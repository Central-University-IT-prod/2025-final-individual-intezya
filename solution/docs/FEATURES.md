# Документация по реализованным функциям

## 1. Telegram Бот
- **Описание**: Реализован Telegram бот для взаимодействия с сервисом
- **Доступ**: https://t.me/prodadvertisementservicebot

## 2. Управление модерацией

### Эндпоинт включения/выключения модерации
- **Метод**: POST
- **URL**: `/moderation?enabled=bool`
- **Описание**: Позволяет управлять состоянием модерации в системе
- **Параметры**:
    - enabled (boolean) - статус модерации (true/false)

### Управление запрещёнными словами
- **Добавление слова**
    - Метод: POST
    - URL: `/moderation/banned_word`
    - Описание: Добавляет новое слово в список запрещённых

- **Удаление слова**
    - Метод: DELETE
    - URL: `/moderation/banned_word`
    - Описание: Удаляет слово из списка запрещённых

## 3. Генерация описания рекламной кампании
- **Метод**: POST
- **URL**: `/advertisers/{advertiserId}/campaigns/generate`
- **Описание**: Генерирует описание рекламной кампании на основе предоставленного заголовка
- **Параметры**:
    - advertiserId - идентификатор рекламодателя
    - Заголовок в теле запроса

## 4. Работа с изображениями рекламных кампаний

### Получение изображения
- **Метод**: POST
- **URL**: `/advertisers/{advertiserId}/campaigns/{advertisementId}/image`
- **Описание**: Получение загруженного изображения для рекламной кампании
- **Параметры**:
    - advertiserId - идентификатор рекламодателя
    - advertisementId - идентификатор рекламного объявления

### Система валидации изображений
- Выполняется полная валидация изображений:
    - Проверка доступности изображения по предоставленной ссылке
    - Валидация Content-Type ответа
    - Проверка формата и содержимого изображения

### Система хранения изображений
- Изображения хранятся в специализированном Docker-контейнере с MinIO
- MinIO обеспечивает:
    - Надёжное хранение файлов
    - Быстрый доступ к изображениям
    - Масштабируемость хранилища
    - Совместимость с S3 API

## Как воспроизвести

1. Для работы с Telegram ботом:
    - Перейдите по ссылке https://t.me/prodadvertisementservicebot
    - Следуйте инструкциям бота

2. Для работы с API модерации:
   ```bash
   # Включение модерации
   curl -X POST "/moderation?enabled=true"
   
   # Добавление запрещённого слова
   curl -X POST "/moderation/banned_word?word=YOUR_WORD"
   
   # Удаление запрещённого слова
   curl -X DELETE "/moderation/banned_word?word=YOUR_WORD"
   ```

3. Для генерации описания кампании:
   ```bash
   curl -X POST "/advertisers/123/campaigns/generate" \
        -H "Content-Type: application/json" \
        -d '{"title": "Название кампании"}'
   ```

4. Для работы с изображениями:
   (Чтобы загрузить изображение, необходимо указать 'image_url' при создании/редактировании кампании)
   ```bash
   curl -X GET "/advertisers/123/campaigns/456/image"
   ```